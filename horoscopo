<item>
<title>[COLOR white][B] Horoscopo:[/COLOR][/B]</title>
<link>nolink</link>
<externallink></externallink>
 <thumbnail>https://i.imgur.com/CtVLM7j.jpg</thumbnail>
 <fanart>https://i.imgur.com/T7SFUmF.jpg</fanart> 
 <info>[COLOR white]BIenvenido al mundo de lo Paranormal...[/COLOR]</title></info>
</item>

<item>
<title>[COLOR red][B] Acuario [/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "Acuario: Hoy los Astros no estan a tu Favor"
    line2 = "La conjuncion de los planetas hace que seas vulnerable"
    line3 = "Ves con mucho cuido.. estan cerca de ti.." 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/d2poYFD.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>

<item>
<title>[COLOR red][B] Piscis [/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "Piscis: Te han hecho un mal de ojo sin tu saberlo"
    line2 = "procura no salir solo de casa ni permanecer a oscuras"
    line3 = "qsaben donde vives..." 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/fPEBHbk.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>

<item>
<title>[COLOR red][B] Aries [/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "Aries: Seria mejor que no supieras tu destino"
    line2 = "estas condenado aunque no lo sepas a sufrir..."
    line3 = "ellos saben que has hecho y van a por ti..." 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/JuS7pUI.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>

<item>
<title>[COLOR red][B] Tauro [/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "Tauro: Intentas cada dia que los astros te den"
    line2 = "las respuestas a tus inquetudes cuando sabes"
    line3 = "perfectamente que el mal esta cerca de ti..." 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/AQXs2ce.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>

<item>
<title>[COLOR red][B] Geminis [/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "Geminis: La dualidad esta dentro de ti"
    line2 = "convives con el bien y el mal luchando entre si"
    line3 = "a mi no me engaÃ±as...se quien eres" 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/N6XigEe.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>

<item>
<title>[COLOR red][B] Cancer [/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     que t
    line1 = "Cancer: Hoy los Astros estan a tu favor"
    line2 = "es un buen dia para realizar actividad en el exterior"
    line3 = "donde te estaran esperando para saldar cuentas, ves con cuidado " 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/Fm38KQl.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>

<item>
<title>[COLOR red][B] Leo [/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "Leo: Hoy camina despacio mirando detras de ti"
    line2 = "de entre las sombras resurgiran"
    line3 = "ellos saben lo que has hecho..." 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/ovgMWqi.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>

<item>
<title>[COLOR red][B] Virgo [/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "Virgo: No esperer el favor de los Astros"
    line2 = "ni rezando a ningun Dios conseguiras escapar"
    line3 = "saben lo que hiciste y volveran a por ti..." 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/t1DTEeP.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>

<item>
<title>[COLOR red][B] Libra [/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "Libra: Que dudas albergas dentro de ti.."
    line2 = "Esperas que los Astros te deparen un buen dia"
    line3 = "Pero no es asi... hoy sufriras" 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/R9eUusP.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>

<item>
<title>[COLOR red][B] Escorpion [/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "Escorpion: Has nacido bajo el signo del Escorpion"
    line2 = "Tu nacimiento marco un antes y un despues"
    line3 = "Comienza la era del Anti-cristo" 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/2Jdw7jy.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>

<item>
<title>[COLOR red][B] Sagitario [/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "Sagitario: Nadie escuchara tus gritos"
    line2 = "Nadie vendra a socorrerte cuando en la noche"
    line3 = "me acerque a ti y te lleve a mi mundo... " 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/z9IeohA.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart>  
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>

<item>
<title>[COLOR red][B] Capricornio[/B][/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "Capricorneo: Hoy para ti sera un buen dia"
    line2 = "No te hare sufrir... Sera rapido lo prometo"
    line3 = "Que tu alma se apiade de ti..." 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2vCXBlr"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
 <thumbnail>https://i.imgur.com/4lDfOjL.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
<info>[COLOR white]Que te depara el dia de hoy? preguntale a tus Astros...[/COLOR]</info>
</item>



<item><title>[COLOR white][B] Tu Horoscopo Diario...[/B][/COLOR]</title>
<link>$doregex[makelist]</link>
 <thumbnail>https://i.imgur.com/jHYfuVG.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
 <info>[COLOR white]Descubre que te depara el dia de doy segun los Astros..[/COLOR]</title></info>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
<title>[COLOR white] Mundo Oscuro: [/COLOR][COLOR red][makelist.param2][/COLOR]</title>
<link>$doregex[resolve]</link>
 <thumbnail>https://i.imgur.com/jHYfuVG.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
]]></listrepeat>
<expres>u'(.+?)', u'(.+?)'</expres>
<page>$doregex[search]</page>
</regex>
 
<regex>
<name>resolve</name>
<expres><![CDATA[#$pyFunction
import urlresolver
def GetLSProData(page_data,Cookie_Jar,m):
 url = 'https://www.youtube.com/watch?v=[makelist.param1]'
 streamLink = urlresolver.resolve(url)
 return streamLink
]]></expres>
<page></page>
</regex>
 
<regex>
<name>search</name>
<expres><![CDATA[#$pyFunction
import requests,xbmcgui,xbmc, re,time, xbmcaddon
def GetLSProData(page_data,Cookie_Jar,m):
 
 text=takeInputFortext('[COLOR white][B] Mundo Oscuro[/B][/COLOR] [COLOR red] ...[/COLOR]')
 url = 'https://www.youtube.com/results?search_query=horoscopo+hoy' + text.replace(' ', '+') 
 req = requests.get(url)
 list1 = re.findall('yt-lockup-c.+?a\shref=".watch.v=([^"]+)".+?\s\stitle="([^"]+)"\s', req.text)
 
 count = 50
 while count > 1:
   try:
     url = 'https://www.youtube.com' + re.findall('a href="([^"]+)".+<\/a>\n <\/div>', req.text)[0]
   except:
     return list1
   req = requests.get(url)
   list2 = re.findall('yt-lockup-c.+?a\shref=".watch.v=([^"]+)".+?\s\stitle="([^"]+)"\s', req.text)
   list1 = list1 + list2
   count = count - 1
 return list1
 
def takeInputFortext(txt):
 addon = xbmcaddon.Addon('plugin.video.MundoOscuro')
 addon_version = addon.getAddonInfo('version')
 profile = xbmc.translatePath(addon.getAddonInfo('profile').decode('utf-8'))
 
 solver = InputWindow( txt=txt)
 solution = solver.get()
 return solution
 
class InputWindow(xbmcgui.WindowDialog):
    def __init__(self, *args, **kwargs):
       
        self.txt = kwargs.get('txt','')
 
        xbmcgui.WindowXMLDialog.__init__(self)
        #self.addControl(self.txt)
        path = xbmcaddon.Addon().getAddonInfo('path')
        self.kbd = xbmc.Keyboard()
        self.kbd.setHeading( self.txt)
 
    def get(self):
        self.show()
        time.sleep(2)
        self.kbd.doModal()
        if (self.kbd.isConfirmed()):
            text = self.kbd.getText()
            self.close()
            return text
        self.close()
        return False
]]></expres>
<page></page>
</regex>
</item>

<item>
<title>[COLOR white][B] Volver al Menu Principal[/COLOR][/B]</title>
<utube>qYAsCjzezTE</utube>
 <thumbnail>https://i.imgur.com/FlVtK2a.jpg</thumbnail>
 <fanart>https://i.imgur.com/jHYfuVG.jpg</fanart> 
 <info>[COLOR white]BIenvenido al mundo de lo Paranormal...[/COLOR]</title></info>
</item>
